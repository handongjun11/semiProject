/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.35
 * Generated at: 2019-01-18 02:47:51 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.admin.chart;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;
import semi.kh.chart.model.vo.Favorite;
import semi.kh.member.model.vo.*;
import semi.kh.product.model.service.*;
import java.net.URLEncoder;
import java.util.*;

public final class showChart_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/WEB-INF/views/common/header.jsp", Long.valueOf(1547621309758L));
    _jspx_dependants.put("/WEB-INF/views/common/footer.jsp", Long.valueOf(1547621309705L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.util");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("semi.kh.member.model.vo");
    _jspx_imports_packages.add("semi.kh.product.model.service");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.net.URLEncoder");
    _jspx_imports_classes.add("semi.kh.chart.model.vo.Favorite");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

	Member memberLoggedIn = (Member)session.getAttribute("memberLoggedIn");
boolean saveId = false;
String memberId = "";

Cookie[] cookies = request.getCookies();

for(Cookie c : cookies){
	String key = c.getName();
	String value = c.getValue();
	if("saveId".equals(key)){
		saveId = true;
		memberId = value;
	}
}




      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<title>SHOPINGMALL</title>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(request.getContextPath() );
      out.write("/css/style.css\" />\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/jquery-3.3.1.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/Chart.bundle.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/PPRbgb.js\"></script>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\">\r\n");
      out.write("<style>\r\n");
      out.write("div.login-container input[type=button]{\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\twidth:100px;\r\n");
      out.write("\theight:25px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("tr#lasttr input[type=button]{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\twidth:115px;\r\n");
      out.write("\theight:25px;\r\n");
      out.write("\tright:58px;\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("div.login-container input[type=checkbox]{\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\ttop:50px;\r\n");
      out.write("\tright: 45px;\r\n");
      out.write("}\r\n");
      out.write("div.login-container label{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\tcolor:rgb(51,122,194);\r\n");
      out.write("\ttop:50px;\r\n");
      out.write("\tright: 6px;\r\n");
      out.write("}\r\n");
      out.write("div.login-container input[type=submit]{\r\n");
      out.write("\t\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\twidth: 60px;\r\n");
      out.write("\theight: 35px;\r\n");
      out.write("\ttop:13px;\r\n");
      out.write("\tright: 3px;\r\n");
      out.write(" \tpadding: 5px 5px;\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("tr#log input[type=button]{\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("}\r\n");
      out.write("#btn-logout{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\tright:60px;\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("#time{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\twidth:100px;\r\n");
      out.write("\ttop:10px;\r\n");
      out.write("}\r\n");
      out.write("#timer-button{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\ttext-align:center;\r\n");
      out.write("\tfont-size:5;\r\n");
      out.write("\twidth:45px;\r\n");
      out.write("\tleft:34px;\r\n");
      out.write("\ttop:3px;\r\n");
      out.write("}\r\n");
      out.write("#title{\r\n");
      out.write("\tposition:absolute;\r\n");
      out.write("\tmargin-top:-10px;\r\n");
      out.write("\tmargin-left:20px;\r\n");
      out.write(" \tfont-size:50px;\r\n");
      out.write(" \tcolor:rgb(110,102,92);\r\n");
      out.write("}\r\n");
      out.write("#title:hover{\r\n");
      out.write("\tcursor:pointer;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("function loginValidate() {\r\n");
      out.write("\tif($(\"#memberId\").val().trim().length ==0){\r\n");
      out.write("\t\talert(\"아이디를 입력하세요\");\r\n");
      out.write("\t\t$(\"#memberId\").focus();\r\n");
      out.write("\t\treturn false;//폼 전송 방지\r\n");
      out.write("\t}\r\n");
      out.write("\tif($(\"#password\").val().trim().length==0){\r\n");
      out.write("\t\talert(\"비밀번호를 입력하세요\");\r\n");
      out.write("\t\t$(\"#password\").focus();\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t}\r\n");
      out.write("\t//form에서 유효성 검사할때는 onsubmit, 로그인버튼 부분에서 유효성검사할때는 onclick\r\n");
      out.write("\treturn true;\r\n");
      out.write("}\r\n");
      out.write("function findPassword(){\r\n");
      out.write("\tvar url = \"");
      out.print(request.getContextPath());
      out.write("/member/findPassword\";\r\n");
      out.write("\tvar title =\"findPassword\";\r\n");
      out.write("\tvar status = \"left=500px,top=200px,width=400px,height=210px\";\r\n");
      out.write("\topen(url,title,status);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
if(memberLoggedIn!=null && !("admin".equals(memberLoggedIn.getMemberId()))) {
      out.write("\r\n");
      out.write("\r\n");
      out.write("var iM = 30;\r\n");
      out.write("var iS = iM * 60;\r\n");
      out.write("var timerchecker = null;\r\n");
      out.write("\r\n");
      out.write("$(function(){\r\n");
      out.write("\tfncClearTime();\r\n");
      out.write("\tinitTimer();\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("Lpad = function(str,len){\r\n");
      out.write("\tstr = str + \"\";\r\n");
      out.write("\twhile(str.length < len){\r\n");
      out.write("\t\tstr = \"0\"+str;\r\n");
      out.write("\t}\r\n");
      out.write("\treturn str;\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("initTimer = function(){\r\n");
      out.write("\trM = parseInt(iS/60);\r\n");
      out.write("\trS = iS % 60;\r\n");
      out.write("\tif(iS>0){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\"#time\").text(Lpad(rM,2)+\"M \"+Lpad(rS,2)+\"S\");\r\n");
      out.write("\t\tiS--;\r\n");
      out.write("\t\ttimerchecker = setTimeout(\"initTimer()\",1000);\r\n");
      out.write("\t}else {\r\n");
      out.write("\t\tclearTimeout(timerchecker);\r\n");
      out.write("\t\tlogout();\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fncClearTime(){\r\n");
      out.write("\tiM = 30;\r\n");
      out.write("\tiS = iM*60;\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function logout(){\r\n");
      out.write("\tlocation.href='");
      out.print(request.getContextPath());
      out.write("/member/logout';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
}
      out.write("\r\n");
      out.write("\r\n");
      out.write("function goToPrdList(obj){\r\n");
      out.write("\t\r\n");
      out.write("\t  var pCategory = $(obj).attr(\"name\");\r\n");
      out.write("\t  console.log($(obj).parent().eq(0));\t /*모바일, 스마트폰,태블릿, 웨어러블 */\r\n");
      out.write("\t ");
      out.write(" \r\n");
      out.write("\t  location.href = \r\n");
      out.write("\t \t  \"");
      out.print(request.getContextPath());
      out.write("/product/productList?pCategory=\"+pCategory;\r\n");
      out.write("\t \r\n");
      out.write("\t}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\t<div id=\"container\">\r\n");
      out.write("\t\t<header>\r\n");
      out.write("\t\t<div id=\"title\" onclick=\"location.href ='");
      out.print(request.getContextPath());
      out.write("/'\">\r\n");
      out.write("\t\t\t<img src='");
      out.print(request.getContextPath());
      out.write("/images/LOGO.png' style=\"width: 80px;\"/>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t<!-- 로그인 폼 -->\r\n");
      out.write("\t\t\t<!-- 로그인 시작 -->\r\n");
      out.write("\t\t\t<div class=\"login-container\">\r\n");
      out.write("\t\t\t");
if(memberLoggedIn == null) { 
      out.write("\r\n");
      out.write("\t\t\t\t<form action=\"");
      out.print(request.getContextPath());
      out.write("/member/login\" method=\"post\" id=\"LoginFrm\" onsubmit=\"return loginValidate();\">\r\n");
      out.write("\t\t\t\t\t<table>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td><input type=\"text\" name=\"memberId\" id=\"memberId\" placeholder=\"아이디\" value=\"");
      out.print(memberId);
      out.write("\" style=\"width:170px;\"></td>\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td><input type=\"password\" name=\"password\" id=\"password\" placeholder=\"비밀번호\" style=\"width:170px;\"></td>\r\n");
      out.write("\t\t\t\t\t\t\t<td><input type=\"submit\" class=\"btn btn-primary\" value=\"로그인\" /></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t<td colspan=\"2\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" class=\"btn btn-link\" value=\"비밀번호찾기\"  onclick=\"findPassword();\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" class=\"btn btn-link\" value=\"회원가입\" onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/memberEnroll'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"saveId\" id=\"saveId\" ");
      out.print(saveId?"checked":"" );
      out.write("/> \r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"saveId\">ID저장</label>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr id=\"lasttr\">\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=\"2\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" class=\"btn btn-link\" value=\"비회원 주문조회\" onclick=\"location.href = '");
      out.print(request.getContextPath());
      out.write("/product/noneOrderView'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t</form>\r\n");
      out.write("\t\t\t");
 }
				else {
      out.write("\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<table id=\"logged-in\">\r\n");
      out.write("\t\t\t\t\t\t<tr id=\"welcome\">\r\n");
      out.write("\t\t\t\t\t\t\t<td>");
      out.print(memberLoggedIn.getMemberId() );
      out.write("님, 안녕하세요! Welcome:)</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr id=\"log\">\r\n");
      out.write("\t\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" class=\"btn btn-link\" value=\"내정보보기\" onclick='location.href = \"");
      out.print(request.getContextPath());
      out.write("/member/memberView?memberId=");
      out.print(memberLoggedIn.getMemberId());
      out.write("\";' />\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" id=\"btn-logout\" value=\"로그아웃\" class=\"btn btn-link\" onclick =\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/logout';\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</td> \r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t\t");
 if(!("admin".equals(memberLoggedIn.getMemberId()))) {
      out.write("\r\n");
      out.write("\t\t\t\t\t<table id=\"timer\">\r\n");
      out.write("\t\t\t\t\t\t<tr >\r\n");
      out.write("\t\t\t\t\t\t<td id=\"time\"></td>\r\n");
      out.write("\t\t\t\t\t\t<td id=\"timer-button\"><input type=\"button\" class=\"btn btn-link\" value=\"연장\" onclick=\"fncClearTime();\"/></td>\r\n");
      out.write(" \r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t");
 } 
      out.write("\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- 로그인 폼 -->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- 메인메뉴 시작 -->\r\n");
      out.write("\t\t\t<nav>\r\n");
      out.write("\t\t\t\t<ul class=\"main-nav\">\r\n");
      out.write("\t\t\t\t\t<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/\">Home</a></li>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<li>\r\n");
      out.write("\t\t\t\t\t\t<a onclick=\"goToPrdList(this);\" name=\"모바일\">모바일</a>\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"sub-nav\">\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"스마트폰\">스마트폰</a></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"태블릿\">태블릿</a></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"웨어러블\">웨어러블</a></li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\t\t\r\n");
      out.write("\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"PC\">PC</a>\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"sub-nav\">\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"노트북\">노트북</a></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"모니터\">모니터</a></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li><a onclick=\"goToPrdList(this);\" name=\"데스크탑\">데스크탑</a></li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\t\r\n");
      out.write("\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<li><a href=\"");
      out.print(request.getContextPath());
      out.write("/board/boardList\">고객센터</a></li>\r\n");
      out.write("\t\t\t\t\t<li><a href=\"");
      out.print(request.getContextPath());
      out.write("/product/productCart\">장바구니</a></li>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\t ");
      out.write("\r\n");
      out.write("               ");
if(memberLoggedIn != null && ("admin").equals(memberLoggedIn.getMemberId())){ 
      out.write("\r\n");
      out.write("               <li>\r\n");
      out.write("                  <a href=\"#\">관리자</a>\r\n");
      out.write("                  <ul class=\"sub-nav\">\r\n");
      out.write("                     <li><a href=\"");
      out.print(request.getContextPath());
      out.write("/admin/memberList\">회원관리</a></li>                              \r\n");
      out.write("                     <li><a href=\"");
      out.print(request.getContextPath());
      out.write("/admin/memberManagement\">통계</a></li>\r\n");
      out.write("                     <li><a href=\"");
      out.print(request.getContextPath());
      out.write("/admin/Management\">스케줄러</a></li>\r\n");
      out.write("                     <li><a href=\"");
      out.print(request.getContextPath());
      out.write("/admin/orderView\">주문내역</a></li>\r\n");
      out.write("                  </ul>\r\n");
      out.write("               </li>\r\n");
      out.write("               ");
} 
      out.write("\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t</nav>\r\n");
      out.write("\t\t\t<!-- 메인메뉴 끝 -->\r\n");
      out.write("\t\t</header>\r\n");
      out.write("\t\t<div id=\"wrapper\" style=\"position:relative\">\r\n");
      out.write("\t\t<div id=\"todayList\" style=\"position:absolute; width:130px; min-height:100px; left:970px;\">\r\n");
      out.write("\t\t<h6 id=\"todayList_h6\"> 최근 본 상품</h6>\r\n");
      out.write("\t\r\n");
      out.write("\t\t<script>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar arr = new Array();\r\n");
      out.write("\t\t");

		request.setCharacterEncoding("UTF-8");
		Cookie[] pcookies = request.getCookies();
		
		
		for(Cookie pc : pcookies){
			String key = pc.getName();
			String value = pc.getValue();
			
			if(key.contains("pcc")){
		
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t\t\tvar todayList = new Object();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tconsole.log(\"length\"+arr.length);\r\n");
      out.write("\t\t\tif(arr.length >=5){\r\n");
      out.write("\t\t\t\tarr.shift();\r\n");
      out.write("\t\t\t\ttodayList.toID=\"");
      out.print( key.substring(3) );
      out.write("\";\r\n");
      out.write("\t\t\t\ttodayList.toNAME=\"");
      out.print( value );
      out.write("\";\r\n");
      out.write("\t\t\t\tarr.push(todayList);\r\n");
      out.write("\t\t\t}else {\r\n");
      out.write("\t\t\t\ttodayList.toID=\"");
      out.print( key.substring(3) );
      out.write("\";\r\n");
      out.write("\t\t\t\ttodayList.toNAME=\"");
      out.print( value );
      out.write("\";\r\n");
      out.write("\t\t\t\tarr.push(todayList);\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\t");
 
				
			}
		}
		
		
      out.write("\r\n");
      out.write("\t\t\tvar addr = \"");
      out.print(request.getContextPath() );
      out.write("/product/productView?pId=\";\r\n");
      out.write("\t\t\tvar html1 = \"<a href='\";\r\n");
      out.write("\t\t\tvar html2 = \"' >\"\r\n");
      out.write("\t\t\tvar html3 = \"</a>\";\r\n");
      out.write("\t\t\tvar src1 = \"<img class='listimg' src='\";\r\n");
      out.write("\t\t\tvar src2 = \"");
      out.print(request.getContextPath() );
      out.write("/images/product/\";\r\n");
      out.write("\t\t\tvar src3 = \"_thumb1.png' \"+\"onerror= javascript:this.src='");
      out.print(request.getContextPath() );
      out.write("/images/error_thumb.jpg'\"+\" />\";\r\n");
      out.write("\t\t\t");
      out.write("\r\n");
      out.write("\t\t\tfor(var i in arr){\r\n");
      out.write("\t\t\t\t$(\"#todayList\").append( \"<div class='todayList_list'>\"+html1+addr+arr[i].toID+html2+src1+src2+arr[i].toNAME+src3+\" <br />\" +arr[i].toNAME+ \"<br /></h6>\"+html3+\"</div>\");\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t</script>\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<section id=\"content\" style=\"background:none;\">\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(request.getContextPath() );
      out.write("/css/chart.css\" />\r\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.5.0\"></script>\r\n");
      out.write("    <script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\r\n");
      out.write(" <nav id=\"high-rank-category\">  <!-- 왼쪽 카테고리 -->\r\n");
      out.write("            <!-- <div class=\"btn-group\" data-toggle=\"buttons\">\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"high-rank\" id=\"high-favorite\" value=\"favorite\">선호도 통계</button>\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"high-rank\" value=\"sale\">총 판매 통계</button>\r\n");
      out.write("           </div>  -->\r\n");
      out.write("   \r\n");
      out.write("\t    \r\n");
      out.write("      <div class=\"dlk-radio btn-group\">\r\n");
      out.write("\t    <label class=\"btn btn-primary\" style=\"float : left;\">\r\n");
      out.write("\t        <input name=\"high-rank\" id=\"high-favorite\" class=\"form-control\" type=\"radio\" value=\"favorite\">선호도 통계\r\n");
      out.write("\t        <i class=\"fa fa-check glyphicon glyphicon-ok\"></i>\r\n");
      out.write("\t   </label>\r\n");
      out.write("\t   <label class=\"btn btn-primary\" style=\"position :relative; top : -2.45em; left : 9em;\" >\r\n");
      out.write("\t       <input name=\"high-rank\" class=\"form-control\" type=\"radio\" value=\"sale\" > 판매량 통계\r\n");
      out.write("\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       </label>\r\n");
      out.write("\t   \r\n");
      out.write("    </div>\r\n");
      out.write("\t<hr style=\"border : 1px solid; margin : 0;\"/>\r\n");
      out.write("\t\r\n");
      out.write("\t<div id=\"low-rank-category1\" class=\"selectChart\" style=\"display : none;\">\r\n");
      out.write("\t\t\t<!-- 나이/성 별 선호도 선택 -->\r\n");
      out.write("\t\t<div class=\"dlk-radio btn-group\">\r\n");
      out.write("\t    \t<label class=\"btn btn-primary\" style=\"float : left;\">\r\n");
      out.write("\t        <input name=\"favorite\" id=\"favorite-gender\" class=\"form-control\" type=\"radio\" value=\"gender\">성별 선호도\r\n");
      out.write("\t        <i class=\"fa fa-check glyphicon glyphicon-ok\"></i>\r\n");
      out.write("\t   \t\t</label>\r\n");
      out.write("\t   <label class=\"btn btn-primary\" style=\"position :relative; top : -2.4em; left : 8.5em;\" >\r\n");
      out.write("\t       <input name=\"favorite\" class=\"form-control\" id=\"favorite-age\" type=\"radio\" value=\"age\" >나이별 선호도\r\n");
      out.write("\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       \t</label>\r\n");
      out.write("\t   </div> \r\n");
      out.write("           <!-- 남,여 선택 라디오박스 구현 -->\r\n");
      out.write("\t\t\t<div class=\"btn-group\" data-toggle=\"buttons\">\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"gender-select\" id=\"genderSelectF\" value=\"F\">여</button>\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"gender-select\" id=\"genderSelectM\" value=\"M\">남</button>\r\n");
      out.write("           </div>\r\n");
      out.write("           \r\n");
      out.write("\t\t<!-- 나이 선택 체크박스 버튼 -->\r\n");
      out.write("\t\t<div class=\"age-form-controller\" style=\"position : relative; top : -5em;\">\r\n");
      out.write("\t\t\t <div class=\" form-group \" style=\"float : left;\">\r\n");
      out.write("\t            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-default\" autocomplete=\"off\" value=\"10\"/>\r\n");
      out.write("\t            <div class=\"btn-group\">\r\n");
      out.write("\t                <label for=\"fancy-checkbox-default\" class=\"[ btn btn-xs btn-default ]\">\r\n");
      out.write("\t                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("\t                    <span> </span>\r\n");
      out.write("\t                </label>\r\n");
      out.write("\t                <label for=\"fancy-checkbox-default\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("\t                    10대\r\n");
      out.write("\t                </label>\r\n");
      out.write("\t            </div>\r\n");
      out.write("\t        </div>\r\n");
      out.write("\t        <div class=\" form-group \" style=\"float : left;\">\r\n");
      out.write("\t            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-primary\" autocomplete=\"off\" value=\"20\"/>\r\n");
      out.write("\t            <div class=\"[ btn-group ]\">\r\n");
      out.write("\t                <label for=\"fancy-checkbox-primary\" class=\"[ btn btn-primary btn-xs ]\">\r\n");
      out.write("\t                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("\t                    <span> </span>\r\n");
      out.write("\t                </label>\r\n");
      out.write("\t                <label for=\"fancy-checkbox-primary\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("\t                   20대\r\n");
      out.write("\t                </label>\r\n");
      out.write("\t            </div>\r\n");
      out.write("\t        </div>\r\n");
      out.write("        <div class=\" form-group \" style=\"float : left;\">\r\n");
      out.write("            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-success\" autocomplete=\"off\" value=\"30\"/>\r\n");
      out.write("            <div class=\"[ btn-group ]\">\r\n");
      out.write("                <label for=\"fancy-checkbox-success\" class=\"[ btn btn-success btn-xs ]\">\r\n");
      out.write("                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("                    <span> </span>\r\n");
      out.write("                </label>\r\n");
      out.write("                <label for=\"fancy-checkbox-success\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("                    30대\r\n");
      out.write("                </label>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"form-group \" style=\"float : left;\">\r\n");
      out.write("            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-info\" autocomplete=\"off\" value=\"40\"/>\r\n");
      out.write("            <div class=\"[ btn-group ]\">\r\n");
      out.write("                <label for=\"fancy-checkbox-info\" class=\"[ btn btn-info btn-xs ]\">\r\n");
      out.write("                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("                    <span> </span>\r\n");
      out.write("                </label>\r\n");
      out.write("                <label for=\"fancy-checkbox-info\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("                    40대\r\n");
      out.write("                </label>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\" form-group \" style=\"float : left;\">\r\n");
      out.write("            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-warning\" autocomplete=\"off\" value=\"50\"/>\r\n");
      out.write("            <div class=\"[ btn-group ]\">\r\n");
      out.write("                <label for=\"fancy-checkbox-warning\" class=\"[ btn btn-warning btn-xs ]\">\r\n");
      out.write("                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("                    <span> </span>\r\n");
      out.write("                </label>\r\n");
      out.write("                <label for=\"fancy-checkbox-warning\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("                   50대\r\n");
      out.write("                </label>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\" form-group \" style=\"float : left;\">\r\n");
      out.write("            <input type=\"checkbox\" name=\"selectAge\" id=\"fancy-checkbox-danger\" autocomplete=\"off\" value=\"60\"/>\r\n");
      out.write("            <div class=\"[ btn-group ]\">\r\n");
      out.write("                <label for=\"fancy-checkbox-danger\" class=\"[ btn btn-xs btn-danger ]\">\r\n");
      out.write("                    <span class=\"[ glyphicon glyphicon-ok ]\"></span>\r\n");
      out.write("                    <span> </span>\r\n");
      out.write("                </label>\r\n");
      out.write("                <label for=\"fancy-checkbox-danger\" class=\"[ btn btn-default btn-xs active ]\">\r\n");
      out.write("                    60대\r\n");
      out.write("                </label>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <button type=\"button\" id=\"btn-age\" class=\"btn btn-primary btn-md\">확인</button>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<!-- <input type=\"radio\" name=\"favorite\" id=\"genderChart\" value=\"gender\"><label for=\"genderChart\">성별</label> -->\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t<!-- <div id=\"genderSelect\" class=\"selectDetail\">\r\n");
      out.write("\t\t<input type=\"radio\" name=\"favorite-gender\" id=\"genderChartF\" value=\"F\"  /><label for=\"genderChartF\">여</label> <br />\r\n");
      out.write("\t\t<input type=\"radio\" name=\"favorite-gender\" id=\"genderChartM\" value=\"M\" /><label for=\"genderChartM\">남</label>\r\n");
      out.write("\t\t</div> -->\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div id=\"low-rank-category2\" style=\"display : none;\" class=\"selectChart\">\r\n");
      out.write("\t\t<!-- <input type=\"radio\" name=\"sale\" id=\"region\" value=\"region\"><label for=\"region\">지역</label><br /> \r\n");
      out.write("\t\t<input type=\"radio\" name=\"sale\" id=\"grade\" value=\"grade\"><label for=\"grade\">등급</label> -->\r\n");
      out.write("\t\t <!-- 남,여 선택 라디오박스 구현 -->\r\n");
      out.write("\t\t\t<div class=\"btn-group\" data-toggle=\"buttons\" style=\"padding : 0; position : relative; top : 1em;\">\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"sale\" value=\"region\">지역별 판매량</button>\r\n");
      out.write("           \t<button type=\"button\" class=\"btn btn-primary\" name=\"sale\" value=\"grade\">등급별 판매량</button>\r\n");
      out.write("           </div>\r\n");
      out.write("           <!-- 각 지역 판매 정보 -->\r\n");
      out.write("       <div class=\"dlk-radio btn-group\" id=\"region-select\" style=\"display : none; margin : 0.5em;\">\r\n");
      out.write("\t    <label class=\"btn btn-primary\" >\r\n");
      out.write("\t        <input name=\"region-detail\" id=\"high-favorite\" class=\"form-control\" type=\"radio\" value=\"seoul\">서울/경기\r\n");
      out.write("\t        <i class=\"fa fa-check glyphicon glyphicon-ok\"></i>\r\n");
      out.write("\t   </label>\r\n");
      out.write("\t   <br />\r\n");
      out.write("\t   <label class=\"btn btn-primary\"  >\r\n");
      out.write("\t       <input name=\"region-detail\" class=\"form-control\" type=\"radio\" value=\"kangwon\" > 강원도\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       </label>\r\n");
      out.write("       <br />\r\n");
      out.write("\t   <label class=\"btn btn-primary\"  >\r\n");
      out.write("\t       <input name=\"region-detail\" class=\"form-control\" type=\"radio\" value=\"chungcheong\" > 충청도\r\n");
      out.write("\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       </label>\r\n");
      out.write("       <br />\r\n");
      out.write("\t   <label class=\"btn btn-primary\"  >\r\n");
      out.write("\t       <input name=\"region-detail\" class=\"form-control\" type=\"radio\" value=\"jeonla\" > 전라도\r\n");
      out.write("\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       </label>\r\n");
      out.write("       <br />\r\n");
      out.write("\t   <label class=\"btn btn-primary\"  >\r\n");
      out.write("\t       <input name=\"region-detail\" class=\"form-control\" type=\"radio\" value=\"gyeongsang\" > 경상도 \r\n");
      out.write("\t       <i class=\"fa fa-times glyphicon glyphicon-ok\"></i>\r\n");
      out.write("       </label>\r\n");
      out.write("    </div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t\r\n");
      out.write(" </nav> \r\n");
      out.write("\r\n");
      out.write("<div id=\"chartOfGenderM\" class=\"chartOfGender\">\r\n");
      out.write("\t<canvas id=\"maleChart\" width=\"30em\" height=\"20em\" style=\"position : relative; top:-5em;\"></canvas>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"chartOfGenderF\" class=\"chartOfGender\" >\r\n");
      out.write("<canvas id=\"femaleChart\"  style=\"position : relative; top:-5em;\"></canvas>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div id=\"chartOfAge\" >\r\n");
      out.write("\t<canvas id=\"chart-age\" ></canvas>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"chartOfGrade\" >\r\n");
      out.write("\t<canvas id=\"chart-grade\"  style=\"position: relative; top: -5em;\"></canvas>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"chartOfRegion\" style=\"position : relative; top : -30em; left : 18em;\" >\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"chartOfRegionDetail\" style=\"width : 19em; height : 20em; position : relative; top : -53em; left : 48em; padding : 0;\">\r\n");
      out.write("\t<canvas id=\"chart-region\"></canvas>\r\n");
      out.write("</div> \r\n");
      out.write("<script>\r\n");
      out.write("//캔버스에 있는  차트들을 지우기 위해서 따로 빼논 차트변수\r\n");
      out.write("var femaleChart = null;\r\n");
      out.write("var maleChart = null;\r\n");
      out.write("var ageChart = null;\r\n");
      out.write("var gradeChart = null;\r\n");
      out.write("var regionChart = null;\r\n");
      out.write("var regionDetailChart = null;\r\n");
      out.write("//카테고리별 개수\r\n");
      out.write("var smartphone = 0;\r\n");
      out.write("var monitor = 0;\r\n");
      out.write("var notebook = 0;\r\n");
      out.write("var desktop = 0;\r\n");
      out.write("var tablet = 0;\r\n");
      out.write("var wearable = 0;\r\n");
      out.write("//카테고리별 가격\r\n");
      out.write("var smartphonePrice = 0;\r\n");
      out.write("var monitorPrice = 0;\r\n");
      out.write("var notebookPrice = 0;\r\n");
      out.write("var desktopPrice = 0;\r\n");
      out.write("var tabletPrice = 0;\r\n");
      out.write("var wearablePrice = 0;\r\n");
      out.write("var totalPrice = 0;\r\n");
      out.write("//마커 관련\r\n");
      out.write("var markers = [];\r\n");
      out.write("\r\n");
      out.write("var totalpriceOfSeoul = 0;\r\n");
      out.write("var totalpriceOfKangwon = 0;\r\n");
      out.write("var totalpriceOfGyeongsang = 0;\r\n");
      out.write("var totalpriceOfJeonla = 0;\r\n");
      out.write("var totalpriceOfChungcheong = 0;\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("$(\"input[name=high-rank]\").on(\"click\",function(){\r\n");
      out.write("\t//선호도 버튼 선택시\r\n");
      out.write("\tif($(this).val() == \"favorite\"){\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#chartOfRegion\").css(\"display\",\"none\");\r\n");
      out.write("\t//그 전에 선택했었던 다른 라디오박스들을 리셋해준다.\r\n");
      out.write("     /*  $(\"#low-rank-category2\").children(\"button[name=sale]\").each(function(){\r\n");
      out.write("    \t  $(\"button[name=sale]\").prop(\"checked\",false);\r\n");
      out.write("      });*/\r\n");
      out.write(" \t  $(\"#low-rank-category1\").css(\"display\",\"block\"); //선호도 하위카테고리를 보여줌\r\n");
      out.write(" \t  $(\".age-form-controller\").css(\"display\",\"none\");\r\n");
      out.write(" \t  $(\"button[name=gender-select]\").css(\"display\",\"none\");\r\n");
      out.write("      $(\"#low-rank-category2\").css(\"display\",\"none\");\r\n");
      out.write("      $(\"input[name=region-detail]\").each(function(){\r\n");
      out.write("    \t  $(\"input[name=region-detail]\").prop(\"checked\",false);\r\n");
      out.write("      });\r\n");
      out.write("      $(\"#region-select\").css(\"display\",\"none\");\r\n");
      out.write("      if(gradeChart!= null ){\r\n");
      out.write("    \t\tgradeChart.destroy();\r\n");
      out.write("      }\r\n");
      out.write("      if(regionDetailChart != null){\r\n");
      out.write("    \t  regionDetailChart.destroy();\r\n");
      out.write("      }\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\t//판매 통계\r\n");
      out.write("\t\t//그 전에 선택했었던 다른 라디오박스들을 리셋해준다.\r\n");
      out.write("\t\t\t $(\"input[name=favorite]\").prop(\"checked\",false);\r\n");
      out.write("\t\t $(\"#low-rank-category1\").children(\"input[name=favorite]\").each(function(){\r\n");
      out.write("\t\t\t $(\".age-group\").prop(\"checked\",false);\r\n");
      out.write("\t\t\t $(\"input[name=favorite-gender]\").prop(\"checked\",false);\r\n");
      out.write("\t\t\t $(\"#genderSelect\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\t $('.age-group').css(\"display\",\"none\");\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t });\r\n");
      out.write("\t\t  $(\"#low-rank-category1\").css(\"display\",\"none\");\r\n");
      out.write("\t      $(\"#low-rank-category2\").css(\"display\",\"block\");//판매 통계를 보여줌.\r\n");
      out.write("\t      if(ageChart != null){\r\n");
      out.write("\t\t  \t\tageChart.destroy();\r\n");
      out.write("\t\t  \t\t}\r\n");
      out.write("\t\t  \tif(femaleChart != null && maleChart != null){\r\n");
      out.write("\t\t  \t\tfemaleChart.destroy();\r\n");
      out.write("\t\t  \t\tmaleChart.destroy();\r\n");
      out.write("\t\t  \t}\r\n");
      out.write("\t}\t \r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("$(\"input[name=favorite]\").on(\"click\",function(){\r\n");
      out.write("\t\r\n");
      out.write("\tvar searchType = $(this).val();\r\n");
      out.write("\t$(\"#chartOfRegion\").css(\"display\",\"none\");\r\n");
      out.write("\t$(\"#chartOfGrade\").css(\"display\",\"none\");\r\n");
      out.write("\t$(\"#chartOfRegionDetail\").css(\"display\",\"none\");\r\n");
      out.write("\t\r\n");
      out.write("\tif($(this).val() === 'gender'){\r\n");
      out.write("\t\t$(\"button[name=gender-select]\").css(\"display\",\"block\");\r\n");
      out.write("\t\t $(\".age-form-controller\").css(\"display\",\"none\");\r\n");
      out.write("\t\t//성별과 관련된 태그만 남기고 나머지는 영역이 안겹치게 처리함.\r\n");
      out.write("\t\t$(\"#genderSelect\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGrade\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"input[name=selectAge]\").prop(\"checked\",false);\r\n");
      out.write("\t\t$('#ageSelect').css(\"visibility\",\"hidden\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(ageChart != null){\r\n");
      out.write("\t\t\tageChart.destroy();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t//여자 차트\r\n");
      out.write("\t$(\"#genderSelectF\").on(\"click\",function(){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//남자 차트가 먼저 그려져있으면 차트를 지운다 라는 뜻.\r\n");
      out.write("\t\tif(maleChart != null){\r\n");
      out.write("\t\t\tmaleChart.destroy();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl : \"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfFavorite\",\r\n");
      out.write("\t\tdata : \"searchType=\"+ searchType,\r\n");
      out.write("\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//$('.chartOfGender').css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\tif(i == 0){\r\n");
      out.write("\t\t\tvar favoriteChart = data[i];\r\n");
      out.write("\t\t\tvar totalNum = favoriteChart.smartPhone+ favoriteChart.monitor+ favoriteChart.notebook+favoriteChart.desktop+favoriteChart.tablet+favoriteChart.wearable;\r\n");
      out.write("\t\t\tvar dataSet = [{\r\n");
      out.write("\t            data: [favoriteChart.smartPhone, favoriteChart.monitor, favoriteChart.notebook, favoriteChart.desktop, favoriteChart.tablet, favoriteChart.wearable],\r\n");
      out.write("\t            backgroundColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderColor: [\r\n");
      out.write("\t                'rgba(255,99,132,1)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderWidth: 2\r\n");
      out.write("\t        }];\r\n");
      out.write("\t\t\tvar ctx = $(\"#femaleChart\");\r\n");
      out.write("\t\t\t$(ctx).attr(\"width\",\"20em\").attr(\"height\",\"20em\");\r\n");
      out.write("\t\t\tfemaleChart = new Chart(ctx, {\r\n");
      out.write("\t\t\t    type: 'pie',\r\n");
      out.write("\t\t\t    data: {\r\n");
      out.write("\t\t\t        datasets: dataSet,\r\n");
      out.write("\t\t\t        labels: [\"스마트폰\", \"모니터\", \"노트북\", \"데스크탑\", \"태블릿\", \"웨어러블\"]\r\n");
      out.write("\t\t\t    },\r\n");
      out.write("\t\t\t    options: {\r\n");
      out.write("\t\t\t    \ttitle :{\r\n");
      out.write("\t\t\t    \t\tdisplay: true,\r\n");
      out.write("\t\t\t    \t\ttext: '여자 선호도',\t\r\n");
      out.write("\t\t\t    \t},\r\n");
      out.write("\t\t\t    \tlegend : {\r\n");
      out.write("\t\t\t    \t\tdisplay : true,\r\n");
      out.write("\t\t\t    \t\tposition:'right'\t\r\n");
      out.write("\t\t\t    \t\t\r\n");
      out.write("\t\t\t    \t},\r\n");
      out.write("\t\t\t    \tanimation : {\r\n");
      out.write("\t\t\t    \t\tanimateScale : true\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t\t\t    \t ,plugins : {\r\n");
      out.write("\t\t\t\t    \t\tdatalabels : {\r\n");
      out.write("\t\t\t\t    \t\t\tformatter : function(value, context){\t\r\n");
      out.write("\t\t\t\t    \t\t\t\tvar percentage;\r\n");
      out.write("\t\t\t\t    \t\t\t\tif(value != 0){\r\n");
      out.write("\t\t\t\t    \t\t\t\t\t percentage =  Math.round(value/totalNum*100) + '%';\r\n");
      out.write("\t\t\t\t    \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t    \t\t\t\t\tpercentage = '';\r\n");
      out.write("\t\t\t\t    \t\t\t\t}\r\n");
      out.write("\t\t\t\t    \t\t\t\treturn percentage;\r\n");
      out.write("\t\t\t\t    \t\t\t}\r\n");
      out.write("\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t    \t}\r\n");
      out.write("\t\t\t    }\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\tfemaleChart.render();//여자 선호도 차트를 랜더링\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}//end of if\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t}//end of forin(data)\r\n");
      out.write("}\r\n");
      out.write("\t\t\r\n");
      out.write("\t});//end of ajax\r\n");
      out.write("\t});//click of female  \r\n");
      out.write("\t\t\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#genderSelectM\").click(function(){\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(femaleChart != null){\r\n");
      out.write("\t\t\tfemaleChart.destroy();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl : \"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfFavorite\",\r\n");
      out.write("\t\tdata : \"searchType=\"+ searchType,\r\n");
      out.write("\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t$('#ageSelect').css(\"visibility\",\"hidden\");\r\n");
      out.write("\t\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\t if(i == 1){\r\n");
      out.write("\t\t\t\t\t var favoriteChart = data[i];\r\n");
      out.write("\t\t\t\t\t var totalNum = favoriteChart.smartPhone+ favoriteChart.monitor+ favoriteChart.notebook+favoriteChart.desktop+favoriteChart.tablet+favoriteChart.wearable;\r\n");
      out.write("\t\t\t\t\t \tvar dataSet = [{\r\n");
      out.write("\t\t\t\t\t \t\t  data: [favoriteChart.smartPhone, favoriteChart.monitor, favoriteChart.notebook, favoriteChart.desktop, favoriteChart.tablet, favoriteChart.wearable],\r\n");
      out.write("\t\t\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t\t\t                'rgba(255,99,132,1)',\r\n");
      out.write("\t\t\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t\t            borderWidth: 2,\r\n");
      out.write("\t\t\t\t\t            \r\n");
      out.write("\t\t\t\t\t \t}];\r\n");
      out.write("\t\t\t\t\t\tvar ctx = $(\"#maleChart\");\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$(ctx).attr(\"width\",\"20em\").attr(\"height\",\"20em\");\r\n");
      out.write("\t\t\t\t\t\tmaleChart = new Chart(ctx, {\r\n");
      out.write("\t\t\t\t\t\t    \r\n");
      out.write("\t\t\t\t\t\t\ttype: 'pie',\r\n");
      out.write("\t\t\t\t\t\t    \r\n");
      out.write("\t\t\t\t\t\t    data: {\r\n");
      out.write("\t\t\t\t\t\t        datasets: dataSet,\r\n");
      out.write("\t\t\t\t\t\t        labels:[\"스마트폰\", \"모니터\", \"노트북\", \"데스크탑\", \"태블릿\", \"웨어러블\"]\r\n");
      out.write("\t\t\t\t\t\t    },\r\n");
      out.write("\t\t\t\t\t\t    options: {\r\n");
      out.write("\t\t\t\t\t\t    \t/* rotation: -Math.PI,\r\n");
      out.write("\t\t\t\t\t\t    \t  cutoutPercentage: 30,\r\n");
      out.write("\t\t\t\t\t\t    \t  circumference: Math.PI, */\r\n");
      out.write("\t\t\t\t\t\t    \ttitle :{\r\n");
      out.write("\t\t\t\t\t\t    \t\tdisplay: true,\r\n");
      out.write("\t\t\t\t\t\t    \t\ttext: '남자 선호도',\r\n");
      out.write("\t\t\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t\t\t    \tlegend : {\r\n");
      out.write("\t\t\t\t\t\t    \t\tdisplay : true,\r\n");
      out.write("\t\t\t\t\t\t    \t\tposition:'right'\t\r\n");
      out.write("\t\t\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t\t\t    \tanimation : {\r\n");
      out.write("\t\t\t\t\t\t    \t\tanimateScale : true\r\n");
      out.write("\t\t\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t\t\t    \tplugins : {\r\n");
      out.write("\t\t\t\t\t\t    \t\tdatalabels : {\r\n");
      out.write("\t\t\t\t\t\t    \t\t\tformatter : function(value, context){\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\tvar percentage;\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\tif(value != 0){\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\t\t percentage =  Math.round(value/totalNum*100) + '%';\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\t\tpercentage = '';\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t\treturn percentage;\r\n");
      out.write("\t\t\t\t\t\t    \t\t\t}\r\n");
      out.write("\t\t\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t\t\t    \t}\r\n");
      out.write("\t\t\t\t\t\t    \t/* elements: {\r\n");
      out.write("\t\t\t\t\t\t    \t      center: {\r\n");
      out.write("\t\t\t\t\t\t    \t      text: 'GenderFavorite',\r\n");
      out.write("\t\t\t\t\t\t    \t      color: '#36A2EB', //Default black\r\n");
      out.write("\t\t\t\t\t\t    \t      sidePadding: 15 //Default 20 (as a percentage)\r\n");
      out.write("\t\t\t\t\t\t    \t    }\r\n");
      out.write("\t\t\t\t\t\t    \t  } */\r\n");
      out.write("\t\t\t\t\t\t        /* scales: {\r\n");
      out.write("\t\t\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t\t\t                    beginAtZero:true\r\n");
      out.write("\t\t\t\t\t\t                }\r\n");
      out.write("\t\t\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t\t\t        } */\r\n");
      out.write("\t\t\t\t\t\t    }\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\tmaleChart.render();//남자 선호도 차트를 랜더링함.\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}//end of if\r\n");
      out.write("\t\t\t}//end of forin\r\n");
      out.write("\t\t}//end of success\r\n");
      out.write("\t\t});//end of ajax\r\n");
      out.write("\t\t});//end of click male\r\n");
      out.write("\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\t//나이 차트시작\r\n");
      out.write("\t\tif(femaleChart != null && maleChart != null){\r\n");
      out.write("\t\t\tfemaleChart.destroy();\r\n");
      out.write("\t\t\tmaleChart.destroy();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t//나이 체크박스는 보이게, 성별 라디오는 안보이게함.\r\n");
      out.write("\t\t$(\"button[name=gender-select]\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\".age-form-controller\").css(\"display\",\"block\");\r\n");
      out.write("\t\t//나이 차트 빼고 나머지  차트영역 div는 안겹치게 한다.\r\n");
      out.write("\t\t$(\"#chartOfAge\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#genderSelect\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t/* $(\"input[name=favorite-gender]\").each(function(){\r\n");
      out.write("\t\t\t$(\"input[name=favorite-gender]\").prop(\"checked\",false);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\"input[name=checkAgeSelect]\").each(function(){\r\n");
      out.write("\t\t\t $(\"input[name=checkAgeSelect]\").prop('checked',false);\r\n");
      out.write("\t\t}); */\r\n");
      out.write("\t\t//$('.chartOfGender').css(\"display\",\"none\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t// $('#ageSelect').css(\"visibility\",\"visible\").css(\"font-size\",\"0.5em\").css(\"width\",\"14em\").css(\"height\",\"5em\").css(\"margin\",\"0\").css(\"padding\",\"0\");\r\n");
      out.write("\t\t//ctx.get(0).getContext(\"2d\").clearRect(0,0,ctx.width,ctx.height);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\"#btn-age\").on(\"click\",function(){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar checkVal=\"\";\r\n");
      out.write("\t\t\t$(\"input[name=selectAge]:checked\").each(function(){\r\n");
      out.write("\t\t\t\t checkVal += $(this).val();\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar param ={\r\n");
      out.write("\t\t\t\tsearchType : searchType,\r\n");
      out.write("\t\t\t\tcheckVal :checkVal\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : \"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfFavorite\",\r\n");
      out.write("\t\t\tdata : param,\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tvar ctx = $(\"#chart-age\");\r\n");
      out.write("\t\t\t\t///console.log(data);\r\n");
      out.write("\t\t\t\t$(ctx).attr(\"width\",\"40em\").attr(\"height\",\"40em\");\r\n");
      out.write("\t\t\t\tif(ageChart != null){\r\n");
      out.write("\t\t\t\t\tageChart.destroy();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tvar dataSet;\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tvar ageData = {};\r\n");
      out.write("\t\t\t\tvar ageArr = [];\r\n");
      out.write("\t\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\t\tsmartphone = data[i].smartPhone;\r\n");
      out.write("\t\t\t\t\tmonitor = data[i].monitor;\r\n");
      out.write("\t\t\t\t\tnotebook = data[i].notebook;\r\n");
      out.write("\t\t\t\t\tdesktop = data[i].desktop;\r\n");
      out.write("\t\t\t\t\ttablet = data[i].tablet;\r\n");
      out.write("\t\t\t\t\twearable = data[i].wearable;\r\n");
      out.write("\t\t\t\t ageData = {\r\n");
      out.write("\t\t\t\t\t\tsmartphone : smartphone,\r\n");
      out.write("\t\t\t\t\t\tmonitor:monitor,\r\n");
      out.write("\t\t\t\t\t\tnotebook:notebook,\r\n");
      out.write("\t\t\t\t\t\tdesktop:desktop,\r\n");
      out.write("\t\t\t\t\t\ttablet:tablet,\r\n");
      out.write("\t\t\t\t\t\twearable:wearable\r\n");
      out.write("\t\t\t\t\t};\r\n");
      out.write("\t\t\t\t ageArr.push(ageData);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t//var totalOne = ageArr[0].smartphone+ageArr[0].monitor+ageArr[0].notebook\r\n");
      out.write("\t\t\t\t\tdataSet={\r\n");
      out.write("\t\t\t\t\t\tlabels: [\"10대\", \"20대\", \"30대\", \"40대\", \"50대\", \"60대\"],\r\n");
      out.write("\t\t\t\t\t\tdatasets:[{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'스마트폰',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#1E90FF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].smartphone,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].smartphone,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].smartphone,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].smartphone,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].smartphone,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].smartphone\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'모니터',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#F7464A',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].monitor,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].monitor,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].monitor,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].monitor,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].monitor,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].monitor\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'노트북',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#DBC000',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].notebook,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].notebook,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].notebook,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].notebook,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].notebook,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].notebook\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'데스크탑',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#ABF200',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].desktop,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].desktop,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].desktop,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].desktop,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].desktop,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].desktop\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'태블릿',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#90FFFF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].tablet,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].tablet,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].tablet,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].tablet,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].tablet,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].tablet\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'웨어러블',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#EDAEFF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[0].wearable,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[1].wearable,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[2].wearable,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[3].wearable,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[4].wearable,\r\n");
      out.write("\t\t\t\t\t\t\t\tageArr[5].wearable\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t}]\t\r\n");
      out.write("\t\t\t\t\t};//end of dataSet\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\tageChart = new Chart(ctx, {\r\n");
      out.write("\t\t\t\t\t\ttype : 'bar',\r\n");
      out.write("\t\t\t\t\t\tdata : dataSet, \r\n");
      out.write("\t\t\t\t\t\tshowTooltips: false,\r\n");
      out.write("\t\t\t\t\t\toptions: {\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t        scales: { //X,Y축 옵션\r\n");
      out.write("\t\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t\t                    beginAtZero:true  //Y축의 값이 0부터 시작\r\n");
      out.write("\t\t\t\t\t                }, scaleLabel:{\r\n");
      out.write("\t\t\t\t\t                \tdisplay : true,\r\n");
      out.write("\t\t\t\t\t                \tlabelString : \"인원(명)\"\r\n");
      out.write("\t\t\t\t\t            \r\n");
      out.write("\t\t\t\t\t                }\r\n");
      out.write("\t\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t\t        },\t\r\n");
      out.write("\t\t\t\t\t        title :{\r\n");
      out.write("\t\t\t\t\t    \t\tdisplay: true,\r\n");
      out.write("\t\t\t\t\t    \t\ttext: '나이별 선호도',\r\n");
      out.write("\t\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t\t    \tlegend : {\r\n");
      out.write("\t\t\t\t\t    \t\tdisplay : true,\r\n");
      out.write("\t\t\t\t\t    \t\tposition:'bottom'\t\t\r\n");
      out.write("\t\t\t\t\t    },\t\r\n");
      out.write("\t\t\t\t\t   plugins : {\r\n");
      out.write("\t\t\t\t    \t\tdatalabels : {\r\n");
      out.write("\t\t\t\t    \t\t\tformatter : function(value, context){\r\n");
      out.write("\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t    \t\t\t\tif(value != 0){\r\n");
      out.write("\t\t\t\t    \t\t\t\t\treturn value; \r\n");
      out.write("\t\t\t\t    \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t    \t\t\t\t\treturn '';\r\n");
      out.write("\t\t\t\t    \t\t\t\t}\r\n");
      out.write("\t\t\t\t    \t\t\t},\r\n");
      out.write("\t\t\t\t    \t\t\tanchor: 'end'\r\n");
      out.write("\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t    \t} \r\n");
      out.write("\t\t\t\t\t   \r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}); //end of chart\r\n");
      out.write("\t\t\t\t\tageChart.render();\r\n");
      out.write("\t\t\t} //end of success\r\n");
      out.write("\t\t}); //end of ajax(age)\r\n");
      out.write("\t\t});//end of checkBox event\r\n");
      out.write("\t}//end of if($(this.val())\r\n");
      out.write("\t\r\n");
      out.write("});//end of favorite event\r\n");
      out.write("\r\n");
      out.write("$(\"button[name=sale]\").on(\"click\",function(){\r\n");
      out.write("\tif($(this).val() == 'grade'){\r\n");
      out.write("\t\t//등급 판매량\r\n");
      out.write("\t\t//변수 선언\r\n");
      out.write("\t\tvar gold = new Object();\r\n");
      out.write("\t\tvar vip = new Object();\r\n");
      out.write("\t\tvar vvip = new Object();\r\n");
      out.write("\t\tvar normal = new Object();\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//등급 차트영역을 제외한 나머지 영역들을 display none해서 보여줌.\r\n");
      out.write("\t\t$(\"#chartOfGrade\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfRegion\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#region-select\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfSale\",\r\n");
      out.write("\t\t\tdata: \"searchType=\"+$(this).val(),\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tvar ctx = $(\"#chart-grade\");\r\n");
      out.write("\t\t\t\t$(ctx).attr(\"width\",\"33em\").attr(\"height\",\"30em\");\r\n");
      out.write("\t\t\t\tif(gradeChart != null){\r\n");
      out.write("\t\t\t\t\tgradeChart.destroy();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tif(regionDetailChart != null){\r\n");
      out.write("\t\t\t\t\tregionDetailChart.destroy();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\t\t//각각의 등급당 카테고리별 판매량\r\n");
      out.write("\t\t\t\t\tif(data[i].grade == \"GOLD\"){\r\n");
      out.write("\t\t\t\t\t\tswitch(data[i].description){\r\n");
      out.write("\t\t\t\t\t\tcase \"데스크탑\" : desktopPrice += data[i].salePrice; gold.desktopPrice = desktopPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"스마트폰\" : smartphonePrice += data[i].salePrice; gold.smartphonePrice = smartphonePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"웨어러블\" : wearablePrice += data[i].salePrice; gold.wearablePrice = wearablePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"모니터\" :  monitorPrice += data[i].salePrice; gold.monitorPrice = monitorPrice;  break;\r\n");
      out.write("\t\t\t\t\t\tcase \"노트북\" :  notebookPrice += data[i].salePrice; gold.notebookPrice = notebookPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"태블릿\" :  tabletPrice += data[i].salePrice; gold.tabletPrice = tabletPrice; break;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}else if(data[i].grade == \"VIP\"){\r\n");
      out.write("\t\t\t\t\t\tdesktopPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tsmartphonePrice = 0;\r\n");
      out.write("\t\t\t\t\t\twearablePrice = 0;\r\n");
      out.write("\t\t\t\t\t\tmonitorPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tnotebookPrice = 0;\r\n");
      out.write("\t\t\t\t\t\ttabletPrice = 0;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tswitch(data[i].description){\r\n");
      out.write("\t\t\t\t\t\tcase \"데스크탑\" : desktopPrice += data[i].salePrice; vip.desktopPrice = desktopPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"스마트폰\" : smartphonePrice += data[i].salePrice; vip.smartphonePrice = smartphonePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"웨어러블\" : wearablePrice += data[i].salePrice; vip.wearablePrice = wearablePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"모니터\" :  monitorPrice += data[i].salePrice; vip.monitorPrice = monitorPrice;  break;\r\n");
      out.write("\t\t\t\t\t\tcase \"노트북\" :  notebookPrice += data[i].salePrice; vip.notebookPrice = notebookPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"태블릿\" :  tabletPrice += data[i].salePrice; vip.tabletPrice = tabletPrice; break;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}else if(data[i].grade == \"VVIP\"){\r\n");
      out.write("\t\t\t\t\t\tdesktopPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tsmartphonePrice = 0;\r\n");
      out.write("\t\t\t\t\t\twearablePrice = 0;\r\n");
      out.write("\t\t\t\t\t\tmonitorPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tnotebookPrice = 0;\r\n");
      out.write("\t\t\t\t\t\ttabletPrice = 0;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tswitch(data[i].description){\r\n");
      out.write("\t\t\t\t\t\tcase \"데스크탑\" : desktopPrice += data[i].salePrice; vvip.desktopPrice = desktopPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"스마트폰\" : smartphonePrice += data[i].salePrice; vvip.smartphonePrice = smartphonePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"웨어러블\" : wearablePrice += data[i].salePrice; vvip.wearablePrice = wearablePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"모니터\" :  monitorPrice += data[i].salePrice; vvip.monitorPrice = monitorPrice;  break;\r\n");
      out.write("\t\t\t\t\t\tcase \"노트북\" :  notebookPrice += data[i].salePrice; vvip.notebookPrice = notebookPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"태블릿\" :  tabletPrice += data[i].salePrice; vvip.tabletPrice = tabletPrice; break;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}else if(data[i].grade == \"일반\"){\r\n");
      out.write("\t\t\t\t\t\tdesktopPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tsmartphonePrice = 0;\r\n");
      out.write("\t\t\t\t\t\twearablePrice = 0;\r\n");
      out.write("\t\t\t\t\t\tmonitorPrice = 0;\r\n");
      out.write("\t\t\t\t\t\tnotebookPrice = 0;\r\n");
      out.write("\t\t\t\t\t\ttabletPrice = 0;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tswitch(data[i].description){\r\n");
      out.write("\t\t\t\t\t\tcase \"데스크탑\" : desktopPrice += data[i].salePrice; normal.desktopPrice = desktopPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"스마트폰\" : smartphonePrice += data[i].salePrice; normal.smartphonePrice = smartphonePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"웨어러블\" : wearablePrice += data[i].salePrice; normal.wearablePrice = wearablePrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"모니터\" :  monitorPrice += data[i].salePrice; normal.monitorPrice = monitorPrice;  break;\r\n");
      out.write("\t\t\t\t\t\tcase \"노트북\" :  notebookPrice += data[i].salePrice; normal.notebookPrice = notebookPrice; break;\r\n");
      out.write("\t\t\t\t\t\tcase \"태블릿\" :  tabletPrice += data[i].salePrice; normals.tabletPrice = tabletPrice; break;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}//end of if data[i].grade\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}//end of forin\r\n");
      out.write("\t\t\t\t//각 등급당 판매한 총 가격을 담을 변수.\r\n");
      out.write("\t\t\t\tvar goldPrice = 0\r\n");
      out.write("\t\t\t\tvar vipPrice = 0\r\n");
      out.write("\t\t\t\tvar vvipPrice = 0\r\n");
      out.write("\t\t\t\tvar norPrice = 0\r\n");
      out.write("\t\t\t\t//객체는 형이 String형인거같다 그래서 for문을 통해서 key에 접근해서 하나씩 가져와 바꿔줌.\r\n");
      out.write("\t\t\t\tfor(var key in gold){\r\n");
      out.write("\t\t\t\t\tgoldPrice += parseInt(gold[key]);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tfor(var key in vip){\r\n");
      out.write("\t\t\t\t\tvipPrice += parseInt(vip[key]);\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tfor(var key in vvip){\r\n");
      out.write("\t\t\t\t\tvvipPrice += parseInt(vvip[key]);\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tfor(var key in normal){\r\n");
      out.write("\t\t\t\t\tnorPrice += parseInt(normal[key]);\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tvar dataSet = {\r\n");
      out.write("\t\t\t\t\t\tlabels: [\"GOLD\", \"VIP\", \"VVIP\", \"일반\"],\r\n");
      out.write("\t\t\t\t\t\tdatasets:[{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'스마트폰',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#1E90FF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\t parseInt(gold.smartphonePrice),\r\n");
      out.write("\t\t\t\t\t\t\t\t parseInt(vip.smartphonePrice),\r\n");
      out.write("\t\t\t\t\t\t\t\t parseInt(vvip.smartphonePrice),\r\n");
      out.write("\t\t\t\t\t\t\t\t parseInt(normal.smartphonePrice),\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'데스크탑',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#F7464A',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tgold.desktopPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvip.desktopPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvip.desktopPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnormal.desktopPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'노트북',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#DBC000',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tgold.notebookPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvip.notebookPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvip.notebookPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnormal.notebookPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'모니터',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#ABF200',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tgold.monitorPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvip.monitorPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvip.monitorPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnormal.monitorPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'태블릿',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#90FFFF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tgold.tabletPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvip.tabletPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvip.tabletPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnormal.tabletPrice\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'웨어러블',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#EDAEFF',\r\n");
      out.write("\t\t\t\t\t\t\tdata:[\r\n");
      out.write("\t\t\t\t\t\t\t\tgold.wearablePrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvip.wearablePrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvip.wearablePrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnormal.wearablePrice\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\t\t\tlabel:'총 가격',\r\n");
      out.write("\t\t\t\t\t\t\tbackgroundColor:'#F29661',\r\n");
      out.write("\t\t\t\t\t\t\tdata : [\r\n");
      out.write("\t\t\t\t\t\t\t\tgoldPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvipPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tvvipPrice,\r\n");
      out.write("\t\t\t\t\t\t\t\tnorPrice\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t]\r\n");
      out.write("\t\t\t\t\t\t}]\r\n");
      out.write("\t\t\t\t};//end of dataSet\r\n");
      out.write("\t\t\t\tgradeChart = new Chart(ctx,{\r\n");
      out.write("\t\t\t\t\ttype : 'bar',\r\n");
      out.write("\t\t\t\t\tdata : dataSet, \r\n");
      out.write("\t\t\t\t\tshowTooltips: false,\r\n");
      out.write("\t\t\t\t\toptions: {\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t        scales: { //X,Y축 옵션\r\n");
      out.write("\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t            \tdisplay:true,\t\r\n");
      out.write("\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t                \t\r\n");
      out.write("\t\t\t\t                    beginAtZero:true  //Y축의 값이 0부터 시작\r\n");
      out.write("\t\t\t\t                \t\r\n");
      out.write("\t\t\t\t                },\r\n");
      out.write("\t\t\t\t                scaleLabel:{\r\n");
      out.write("\t\t\t\t                \tdisplay : true,\r\n");
      out.write("\t\t\t\t                \tlabelString : \"판매 가격(원)\"\r\n");
      out.write("\t\t\t\t            \r\n");
      out.write("\t\t\t\t                }\r\n");
      out.write("\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t        },\t\r\n");
      out.write("\t\t\t\t        title :{\r\n");
      out.write("\t\t\t\t    \t\tdisplay: true,\r\n");
      out.write("\t\t\t\t    \t\ttext: '등급별 판매량',\r\n");
      out.write("\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t    \tlegend : {\r\n");
      out.write("\t\t\t\t    \t\tdisplay : true,\r\n");
      out.write("\t\t\t\t    \t\tposition:'bottom'\t\r\n");
      out.write("\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t    \t\r\n");
      out.write("\t\t\t\t    \t},   plugins : {\r\n");
      out.write("\t\t\t\t    \t\tdatalabels : {\r\n");
      out.write("\t\t\t\t    \t\t\tformatter : function(value, context){\r\n");
      out.write("\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t    \t\t\t\t\treturn '';\r\n");
      out.write("\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t    \t\t\t},\r\n");
      out.write("\t\t\t\t    \t\t\tanchor: 'end'\t\r\n");
      out.write("\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t    \t} \r\n");
      out.write("\t\t\t\t\t   \r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t});//end of Chart\r\n");
      out.write("\t\t\t\tgradeChart.render();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});//end of ajax\r\n");
      out.write("\t}//end of if(grade)\r\n");
      out.write("\telse{\r\n");
      out.write("\t\t//지역 판매량\r\n");
      out.write("\t\t$(\"#chartOfRegion\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfGrade\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#region-select\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfRegionDetail\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"input[name=region-detail]\").prop(\"checked\",false);\r\n");
      out.write("\t\t$(\"#chartOfRegion\").css(\"width\",\"600px\").css(\"height\",\"400px\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfSale\",\r\n");
      out.write("\t\t\tdata: \"searchType=\"+$(this).val(),\r\n");
      out.write("\t\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\tif(regionDetailChart != null){\r\n");
      out.write("\t\t\t\t\tregionDetailChart.destroy();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t totalpriceOfSeoul = 0;\r\n");
      out.write("\t\t\t\t totalpriceOfKangwon = 0;\r\n");
      out.write("\t\t\t\t totalpriceOfGyeongsang = 0;\r\n");
      out.write("\t\t\t\t totalpriceOfJeonla = 0;\r\n");
      out.write("\t\t\t\t totalpriceOfChungcheong = 0;\r\n");
      out.write("\t\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\t\tvar address = data[i].address;\r\n");
      out.write("\t\t\t\t\tif(address != null){\r\n");
      out.write("\t\t\t\t\tif(address.indexOf(\"서울\") != -1 || address.indexOf(\"경기\") != -1 || address.indexOf(\"인천\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfSeoul += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"강원\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfKangwon += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"경북\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfGyeongsang += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"경남\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfGyeongsang += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"부산\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfGyeongsang += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"충북\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfchungcheong += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"충남\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfChungcheong += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"대전\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfChungcheong += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"전북\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfJeonla += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"전남\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfJeonla += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"광주\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfJeonla += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"대구\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfGyeongsang += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}else if(address.indexOf(\"울산\") != -1){\r\n");
      out.write("\t\t\t\t\t\ttotalpriceOfGyeongsang += data[i].salePrice;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tgoogle.charts.load('current', {\r\n");
      out.write("\t\t\t\t    'packages':['geochart'],\r\n");
      out.write("\t\t\t\t    // Note: you will need to get a mapsApiKey for your project.\r\n");
      out.write("\t\t\t\t    // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings\r\n");
      out.write("\t\t\t\t    'mapsApiKey': 'AIzaSyCH2su4q92rlC2jQ2cpAxdWsaCp14RyozQ',\r\n");
      out.write("\t\t\t\t     callback: drawRegionsMap\r\n");
      out.write("\t\t\t\t  } );\r\n");
      out.write("\t\t\t\t// google.charts.setOnLoadCallback(drawRegionsMap);\r\n");
      out.write("\t\t\t\t      \r\n");
      out.write("\t\t/* \tvar citymap = {\r\n");
      out.write("\t\t\t\t\t\tkangwon: {\r\n");
      out.write("\t\t\t\t\t\t   center: {lat :37.955428, lng:128.3172303},\r\n");
      out.write("\t\t\t\t\t\t   totalPrice : totalpriceOfKangwon\r\n");
      out.write("\t\t\t\t\t\t },\r\n");
      out.write("\t\t\t\t\t\t seoul: {\t\r\n");
      out.write("\t\t\t\t\t\t   center: {lat: 37.5650172, lng: 126.8494654},\r\n");
      out.write("\t\t\t\t\t\t   totalPrice : totalpriceOfSeoul\r\n");
      out.write("\t\t\t\t\t\t },\r\n");
      out.write("\t\t\t\t\t\t gyeongsang: {\r\n");
      out.write("\t\t\t\t\t\t   center: {lat : 35.728765, lng : 128.7535593},\r\n");
      out.write("\t\t\t\t\t\t   totalPrice : totalpriceOfGyeongsang\r\n");
      out.write("\t\t\t\t\t\t },\r\n");
      out.write("\t\t\t\t\t\t jeonla: {\r\n");
      out.write("\t\t\t\t\t\t   center: {lat: 35.1766798, lng: 126.7737599},\r\n");
      out.write("\t\t\t\t\t\t   totalPrice : totalpriceOfJeonla\r\n");
      out.write("\t\t\t\t\t\t },\r\n");
      out.write("\t\t\t\t\t\t chungcheong : {\r\n");
      out.write("\t\t\t\t\t\t\t center: {lat :36.714379, lng:127.1339553},\r\n");
      out.write("\t\t\t\t\t\t\t   totalPrice : totalpriceOfChungcheong\r\n");
      out.write("\t\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t}; */\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t\t// Create the map.\r\n");
      out.write("\t\t        /* var map = new google.maps.Map($(\"#chartOfRegion\")[0], {\r\n");
      out.write("\t\t          zoom: 6.5,\r\n");
      out.write("\t\t          center: {lat: 36.4168987, lng: 128.1433404},\r\n");
      out.write("\t\t          mapTypeId: 'terrain',\r\n");
      out.write("\t\t          panControl: false,\r\n");
      out.write("\t\t          zoomControl: false,\r\n");
      out.write("\t\t          scaleControl: false,\r\n");
      out.write("\t\t          mapTypeControl:false,\r\n");
      out.write("\t\t          rotateControl : false,\r\n");
      out.write("\t\t          overviewMapControl : false\r\n");
      out.write("\t\t        });\r\n");
      out.write("\t\t        function numberWithCommas(x) {\r\n");
      out.write("\t\t            return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n");
      out.write("\t\t        }\t\t  */    \r\n");
      out.write("\t\t      //각 지역마다 마커 찍기\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t      //서울마크\r\n");
      out.write("\t\t\t/* \tmarkerSeoul = new google.maps.Marker({\r\n");
      out.write("\t\t\t\t    map: map,\r\n");
      out.write("\t\t\t\t    draggable: false,\r\n");
      out.write("\t\t\t\t    animation: google.maps.Animation.DROP,\r\n");
      out.write("\t\t\t\t    position: {lat: 37.3750172, lng: 126.9994654},\r\n");
      out.write("\t\t\t\t   \r\n");
      out.write("\t\t\t\t  });\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t markerSeoul.addListener('click',infowindows); \r\n");
      out.write(" \r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t //강원도 마크\r\n");
      out.write("\t\t\t\tmarkerKangwon = new google.maps.Marker({\r\n");
      out.write("\t\t\t\t    map: map,\r\n");
      out.write("\t\t\t\t    draggable: false,\r\n");
      out.write("\t\t\t\t    animation: google.maps.Animation.DROP,\r\n");
      out.write("\t\t\t\t    position: {lat :37.955428, lng:128.3172303}\r\n");
      out.write("\t\t\t\t  });\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t\t markerKangwon.addListener('click',infowindowk); \r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t //충청도 마크\r\n");
      out.write("\t\t\t\tmarkerChungcheong = new google.maps.Marker({\r\n");
      out.write("\t\t\t\t    map: map,\r\n");
      out.write("\t\t\t\t    draggable: false,\r\n");
      out.write("\t\t\t\t    animation: google.maps.Animation.DROP,\r\n");
      out.write("\t\t\t\t    position: {lat :36.514379, lng:127.2339553}\r\n");
      out.write("\t\t\t\t  });\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t markerChungcheong.addListener('click',infowindowc);\r\n");
      out.write("\t\t\t\t  //전라도 마크\r\n");
      out.write("\t\t\t\tmarkerJeonla = new google.maps.Marker({\r\n");
      out.write("\t\t\t\t    map: map,\r\n");
      out.write("\t\t\t\t    draggable: false,\r\n");
      out.write("\t\t\t\t    animation: google.maps.Animation.DROP,\r\n");
      out.write("\t\t\t\t    position: {lat: 35.1766798, lng: 126.7737599}\r\n");
      out.write("\t\t\t\t  });\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t \r\n");
      out.write("\t\t\t\t markerJeonla.addListener('click',infowindowj);\r\n");
      out.write("\t\t\t\t  //경상도 마크\r\n");
      out.write("\t\t\t\tmarkerGyeongsang = new google.maps.Marker({\r\n");
      out.write("\t\t\t\t    map: map,\r\n");
      out.write("\t\t\t\t    draggable: false,\r\n");
      out.write("\t\t\t\t    animation: google.maps.Animation.DROP,\r\n");
      out.write("\t\t\t\t    position: {lat : 35.728765, lng : 128.7535593}\r\n");
      out.write("\t\t\t\t  });\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t markerGyeongsang.addListener('click',infowindowg);\r\n");
      out.write("\t\t\t\t \r\n");
      out.write("\t\t\t\t //info에 지역 총 판매량을 담는다.\r\n");
      out.write("\t\t\t\t var infowindowseoul;\r\n");
      out.write("\t\t\t\t var infowindowkangwon;\r\n");
      out.write("\t\t\t\t var infowindowchungcheong;\r\n");
      out.write("\t\t\t\t var infowindowjeonla;\r\n");
      out.write("\t\t\t\t var infowindowgyeongsang;\r\n");
      out.write("\t\t\t\t function infowindows(){\r\n");
      out.write("\t\t\t\t\t infowindowseoul = new google.maps.InfoWindow({\r\n");
      out.write("\t\t\t\t\t\t\tcontent :\"총 판매량 : \"+ numberWithCommas(totalpriceOfSeoul)+\"원\"\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t infowindowseoul.open(map,markerSeoul);\r\n");
      out.write("\t\t\t\t\t // infowindowseoul를 열때 나머지 지역의 indowindow는 닫아준다.\r\n");
      out.write("\t\t\t\t\t if(infowindowkangwon != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowkangwon.close();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowchungcheong != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowchungcheong.close();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowjeonla != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowjeonla.close();\r\n");
      out.write("\t\t\t\t\t\t \r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowgyeongsang != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowgyeongsang.close();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t }\r\n");
      out.write("\t\t\t\t function infowindowk(){\r\n");
      out.write("\t\t\t\t\t infowindowkangwon = new google.maps.InfoWindow({\r\n");
      out.write("\t\t\t\t\t\t\tcontent :\"총 판매량 : \"+ numberWithCommas(totalpriceOfKangwon)+\"원\"\r\n");
      out.write("\t\t\t\t\t\t}); \r\n");
      out.write("\t\t\t\t\t infowindowkangwon.open(map,markerKangwon);\r\n");
      out.write("\t\t\t\t\t if(infowindowseoul != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowseoul.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowchungcheong != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowchungcheong.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowjeonla != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowjeonla.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowgyeongsang != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowgyeongsang.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t }\r\n");
      out.write("\t\t\t\t function infowindowc(){\r\n");
      out.write("\t\t\t\t\t infowindowchungcheong = new google.maps.InfoWindow({\r\n");
      out.write("\t\t\t\t\t\t\tcontent :\"총 판매량 : \"+ numberWithCommas(totalpriceOfChungcheong)+\"원\"\r\n");
      out.write("\t\t\t\t\t\t}); \r\n");
      out.write("\t\t\t\t\t infowindowchungcheong.open(map,markerChungcheong);\r\n");
      out.write("\t\t\t\t\t if(infowindowkangwon != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowkangwon.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowseoul != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowseoul.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowjeonla != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowjeonla.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowgyeongsang != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowgyeongsang.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t }\r\n");
      out.write("\t\t\t\t function infowindowj(){\r\n");
      out.write("\t\t\t\t\t infowindowjeonla = new google.maps.InfoWindow({\r\n");
      out.write("\t\t\t\t\t\t\tcontent : \"총 판매량 : \"+numberWithCommas(totalpriceOfJeonla)+\"원\"\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t infowindowjeonla.open(map,markerJeonla);\r\n");
      out.write("\t\t\t\t\t if(infowindowkangwon != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowkangwon.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowchungcheong != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowchungcheong.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowseoul != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowseoul.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowgyeongsang != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowgyeongsang.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t }\r\n");
      out.write("\t\t\t\t function infowindowg(){\r\n");
      out.write("\t\t\t\t\t infowindowgyeongsang = new google.maps.InfoWindow({\r\n");
      out.write("\t\t\t\t\t\t\tcontent :\"총 판매량 : \"+ numberWithCommas(totalpriceOfGyeongsang)+\"원\"\r\n");
      out.write("\t\t\t\t\t\t}); \r\n");
      out.write("\t\t\t\t\t infowindowgyeongsang.open(map,markerGyeongsang);\r\n");
      out.write("\t\t\t\t\t if(infowindowkangwon != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowkangwon.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowchungcheong != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowchungcheong.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowjeonla != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowjeonla.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t\t if(infowindowseoul != null){\r\n");
      out.write("\t\t\t\t\t\t infowindowseoul.close();\r\n");
      out.write("\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t }\r\n");
      out.write("\t\t        for (var city in citymap) {\r\n");
      out.write("\t\t            // Add the circle for this city to the map\r\n");
      out.write("\t\t            var cityCircle = new google.maps.Circle({\r\n");
      out.write("\t\t              strokeColor: '#FF0000',\r\n");
      out.write("\t\t              strokeOpacity: 0.8,\r\n");
      out.write("\t\t              strokeWeight: 2,\r\n");
      out.write("\t\t              fillColor: '#FF0000',\r\n");
      out.write("\t\t              fillOpacity: 0.35,\r\n");
      out.write("\t\t              map: map,\r\n");
      out.write("\t\t              center: citymap[city].center,\r\n");
      out.write("\t\t              radius: Math.sqrt(citymap[city].totalPrice) * 15\r\n");
      out.write("\t\t            });\r\n");
      out.write("\t\t          }\r\n");
      out.write("\t\t         */\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t} //end of success\r\n");
      out.write("\t\t});//end of ajax(region)\r\n");
      out.write("\t}//end of else(region)\r\n");
      out.write("\t\r\n");
      out.write("\t//지역 상세보기\r\n");
      out.write("\t$(\"input[name=region-detail]\").on(\"click\",function(){\r\n");
      out.write("\t\tvar searchType=$(this).val();\r\n");
      out.write("\t\t$(\"#chartOfRegion\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$(\"#chartOfGrade\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfAge\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderF\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#chartOfGenderM\").css(\"display\",\"none\");\r\n");
      out.write("\t\t$(\"#region-select\").css(\"display\",\"block\");\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"");
      out.print(request.getContextPath());
      out.write("/admin/chartOfSale\",\r\n");
      out.write("\t\t\tdata: \"searchType=\"+searchType,\r\n");
      out.write("\t\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\tif(regionDetailChart != null){\r\n");
      out.write("\t\t\t\t\tregionDetailChart.destroy();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tsmartphonePrice = 0;\r\n");
      out.write("\t\t\t\tmonitorPrice = 0;\r\n");
      out.write("\t\t\t\tnotebookPrice = 0;\r\n");
      out.write("\t\t\t\tdesktopPrice = 0;\r\n");
      out.write("\t\t\t\ttabletPrice = 0;\r\n");
      out.write("\t\t\t\twearablePrice = 0;\r\n");
      out.write("\t\t\t\ttotalPrice = 0;\r\n");
      out.write("\t\t\t\tfor(var i in data){\r\n");
      out.write("\t\t\t\t\tvar description = data[i].description;\r\n");
      out.write("\t\t\t\t\tswitch(description){\r\n");
      out.write("\t\t\t\t\tcase \"스마트폰\" : smartphonePrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\tcase \"모니터\" : monitorPrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\tcase \"노트북\" : notebookPrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\tcase \"태블릿\" : tabletPrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\tcase \"웨어러블\" : wearablePrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\tcase \"데스크탑\" : desktopPrice += data[i].salePrice; break;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}//end of for in\r\n");
      out.write("\t\t\t\ttotalPrice = smartphonePrice+monitorPrice+notebookPrice+tabletPrice+wearablePrice+desktopPrice;\r\n");
      out.write("\t\t\t\tvar ctx = $(\"#chart-region\");\r\n");
      out.write("\t\t\t\t$(ctx).attr(\"width\",\"19em\").attr(\"height\",\"20em\");\r\n");
      out.write("\t\t\t\t$(\"#chartOfRegion\").css(\"width\",\"30em\").css(\"height\",\"28em\");\r\n");
      out.write("\t\t\t\tvar dataSet = [{\r\n");
      out.write("\t\t\t\t\t data: [smartphonePrice, monitorPrice, notebookPrice, desktopPrice,tabletPrice, wearablePrice],\r\n");
      out.write("\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t            ],\r\n");
      out.write("\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t                'rgba(255,99,132,1)',\r\n");
      out.write("\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t            ],\r\n");
      out.write("\t\t\t            borderWidth: 2\r\n");
      out.write("\t\t\t\t}];\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tregionDetailChart = new Chart(ctx, {\r\n");
      out.write("\t\t\t\t    type: 'pie',\r\n");
      out.write("\t\t\t\t    data: {\r\n");
      out.write("\t\t\t\t        datasets: dataSet,\r\n");
      out.write("\t\t\t\t        labels: \r\n");
      out.write("\t\t\t\t        \t\t[\"스마트폰\", \"모니터\", \"노트북\", \"데스크탑\", \"태블릿\", \"웨어러블\"]\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t    },\r\n");
      out.write("\t\t\t\t    options: {\r\n");
      out.write("\t\t\t\t    \t/* rotation: -Math.PI,\r\n");
      out.write("\t\t\t\t    \t  cutoutPercentage: 30,\r\n");
      out.write("\t\t\t\t    \t  circumference: Math.PI, */\r\n");
      out.write("\t\t\t\t    \ttitle :{\r\n");
      out.write("\t\t\t\t    \t\tdisplay: true,\r\n");
      out.write("\t\t\t\t    \t\ttext: searchType,\r\n");
      out.write("\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t    \tlegend : {\r\n");
      out.write("\t\t\t\t    \t\tdisplay : true,\r\n");
      out.write("\t\t\t\t    \t\tposition:'bottom'\t\r\n");
      out.write("\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t    \t},\r\n");
      out.write("\t\t\t\t    \tanimation : {\r\n");
      out.write("\t\t\t\t    \t\tanimateScale : true\r\n");
      out.write("\t\t\t\t    \t}\r\n");
      out.write("\t\t\t\t    \t ,plugins : {\r\n");
      out.write("\t\t\t\t\t    \t\tdatalabels : {\r\n");
      out.write("\t\t\t\t\t    \t\t\tformatter : function(value, context){\r\n");
      out.write("\t\t\t\t\t    \t\t\t\t\r\n");
      out.write("\t\t\t\t\t    \t\t\t\tvar percentage;\r\n");
      out.write("\t\t\t\t\t    \t\t\t\tif(value != 0){\r\n");
      out.write("\t\t\t\t\t    \t\t\t\t\t percentage =  Math.round(value/totalPrice*100) + '%';\r\n");
      out.write("\t\t\t\t\t    \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t    \t\t\t\t\tpercentage = '';\r\n");
      out.write("\t\t\t\t\t    \t\t\t\t}\r\n");
      out.write("\t\t\t\t\t    \t\t\t\treturn percentage;\r\n");
      out.write("\t\t\t\t\t    \t\t\t}\r\n");
      out.write("\t\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t\t    \t}\r\n");
      out.write("\t\t\t\t    \t \r\n");
      out.write("\t\t\t\t    \t \t\t\t    \t \r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t\t    }\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\tregionDetailChart.render();//지역별 판매도 차트를 랜더링\r\n");
      out.write("\t\t\t\tvar lat = 0;\r\n");
      out.write("\t\t\t\tvar lng = 0;\r\n");
      out.write("\t\t\t\tswitch(searchType){\r\n");
      out.write("\t\t\t\tcase  \"seoul\" : lat =37.4760053; lng=126.9671619; break;\r\n");
      out.write("\t\t\t\tcase  \"kangwon\" : lat =37.955428; lng=128.3172303; break;\r\n");
      out.write("\t\t\t\tcase  \"chungcheong\" : lat =36.714379; lng=127.1339553; break;\r\n");
      out.write("\t\t\t\tcase  \"jeonla\" : lat =35.11002; lng=126.7704733; break;\r\n");
      out.write("\t\t\t\tcase  \"gyeongsang\" :lat =35.728765; lng=128.7535593;  break;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tvar map = new google.maps.Map($(\"#chartOfRegion\")[0], {\r\n");
      out.write("\t\t\t          zoom: 9,\r\n");
      out.write("\t\t\t          center: {lat: lat, lng: lng},\r\n");
      out.write("\t\t\t          mapTypeId: 'roadmap',\r\n");
      out.write("\t\t\t          panControl: false,\r\n");
      out.write("\t\t\t          zoomControl: false,\r\n");
      out.write("\t\t\t          scaleControl: false,\r\n");
      out.write("\t\t\t          mapTypeControl:false,\r\n");
      out.write("\t\t\t          rotateControl : false,\r\n");
      out.write("\t\t\t          overviewMapControl : false\r\n");
      out.write("\t\t\t        });\r\n");
      out.write("\t\t\t}//end of success\r\n");
      out.write("\t\t});//end of ajax(region-detail)\r\n");
      out.write("\t});//end of region-detail\r\n");
      out.write("});//end of sale event\r\n");
      out.write("\r\n");
      out.write("function drawRegionsMap() {\r\n");
      out.write("    var data = google.visualization.arrayToDataTable([\r\n");
      out.write("      ['City', 'Sale'],\r\n");
      out.write("      ['서울', totalpriceOfSeoul],\r\n");
      out.write("      ['Gyeonggi', totalpriceOfSeoul],\r\n");
      out.write("      ['Incheon',totalpriceOfSeoul],\r\n");
      out.write("      ['Gangwon', totalpriceOfKangwon],\r\n");
      out.write("      ['Jeonbuk',totalpriceOfJeonla],\r\n");
      out.write("      ['Jeonnam',totalpriceOfJeonla],\r\n");
      out.write("      ['Gwangju',totalpriceOfJeonla],\r\n");
      out.write("      ['Gyeongnam',totalpriceOfGyeongsang],\r\n");
      out.write("      ['Gyeongbuk',totalpriceOfGyeongsang],\r\n");
      out.write("      ['Ulsan',totalpriceOfGyeongsang],\r\n");
      out.write("      ['Daegu',totalpriceOfGyeongsang],\r\n");
      out.write("      ['Busan', totalpriceOfGyeongsang],\r\n");
      out.write("      ['Chungbuk',\ttotalpriceOfChungcheong],\r\n");
      out.write("      ['Chungnam',totalpriceOfChungcheong],\r\n");
      out.write("      ['Daejeon',totalpriceOfChungcheong],\r\n");
      out.write("      ['Jeju',661511]\r\n");
      out.write("    ]);\r\n");
      out.write("\r\n");
      out.write("    var options = {\r\n");
      out.write("    \t\ttitle : 'Region Sale',\r\n");
      out.write("    \t\tregion : 'KR', //korea,\r\n");
      out.write("    \t\tresolution: 'provinces',\r\n");
      out.write("    \t\tcolorAxis: {colors: ['white', 'yellow', 'red']},\r\n");
      out.write("             /*backgroundColor: '#8C8C8C',*/\r\n");
      out.write("            datalessRegionColor: '#D5D5D5',\r\n");
      out.write("            defaultColor: '#f5f5f5' \r\n");
      out.write("    };\r\n");
      out.write("    var chart = new google.visualization.GeoChart($(\"#chartOfRegion\")[0]);\r\n");
      out.write("    chart.draw(data, options);\r\n");
      out.write("  }\r\n");
      out.write("</script>\r\n");
      out.write("<script async defer src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCH2su4q92rlC2jQ2cpAxdWsaCp14RyozQ\"></script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t</section>\r\n");
      out.write("\t\t<footer>\r\n");
      out.write("        \t<div>        \t \r\n");
      out.write("        \t\t  주식회사 SEMI_HDJ &nbsp;|&nbsp; CEO HDJ &nbsp;|&nbsp; BUSINESS REGISTRATION 103-88-00990 \r\n");
      out.write("        \t\t <br/><br/> ⓒCopyright 2018 All rights reserved.\r\n");
      out.write("        \t</div>\t\t\r\n");
      out.write("    \t</footer>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(" </div> <!-- <div id=\"container\"> -->\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
      out.write('\r');
      out.write('\n');
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
